{"ast":null,"code":"var _jsxFileName = \"/Users/jonggeun/Desktop/anfree/anfreeFront/anfree/src/TodoList/ControllerFilterTodoList.js\";\nimport { render } from \"@testing-library/react\";\nimport React, { Component, memo } from \"react\";\nimport RenderTodoMemoDiveFilter from \"./RenderTodoMemoDiveFilter\"; // mode, contents\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass RenderTodoList extends Component {\n  constructor(props) {\n    super(props); //actionMode : writeMode, selectorMode,\n\n    this.actionMode = 'selectorMode';\n    this.currentTodoSelector = 0;\n    this.currentMemoSelector = -1;\n    this.readyList = this.props._contents;\n    this.willNotDoList = [];\n    this.willDoList = []; // filterTodo cursor\n\n    this.filterTodoCursorList = [this.willNotDoList, this.readyList, this.willDoList];\n    this.filterTodoCursorListCnt = 1;\n    this.state = {\n      pressArrowDirection: ''\n    };\n  } //다시\n\n\n  swapTodoContents(UpDown) {\n    var upDownInt = UpDown === 'up' ? -1 : 1;\n    var updateContentsList = Array.from(this.props._contents);\n    var temp = updateContentsList[this.currentTodoSelector];\n    updateContentsList[this.currentTodoSelector] = updateContentsList[this.currentTodoSelector + upDownInt];\n    updateContentsList[this.currentTodoSelector + upDownInt] = temp;\n    this.props.updateContentsTodoList(updateContentsList);\n  } //다시\n\n\n  swapMemoContents(UpDown) {\n    let memoIdx = this.currentMemoSelector;\n    let todoIdx = this.currentTodoSelector;\n    var upDownInt = UpDown === 'up' ? -1 : 1;\n    var updateContentsList = Array.from(this.props._contents);\n    var temp = updateContentsList[todoIdx].memolist[memoIdx];\n    updateContentsList[todoIdx].memolist[memoIdx] = updateContentsList[todoIdx].memolist[memoIdx + upDownInt];\n    updateContentsList[todoIdx].memolist[memoIdx + upDownInt] = temp;\n    this.props.updateContentsTodoList(updateContentsList);\n  }\n\n  componentDidMount() {\n    window.addEventListener('keydown', e => {\n      if (this.props._stage === 'FilterTodo') {\n        // +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n        // filterTodo 상태에서 이동제어\n        // 이동에 관한 것\n        // +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n        if (37 <= e.keyCode && e.keyCode <= 40) {\n          var _pressArrowDirection = e.key;\n\n          if (this.actionMode === 'selectorMode' && this.writeContentMode === 'memoList') {\n            //controll memo mode\n            let nowMemolist = this.props._contents[this.currentTodoSelector].memolist;\n\n            if (_pressArrowDirection === 'ArrowDown') {\n              if (nowMemolist.length !== 0) {\n                this.currentMemoSelector = nowMemolist.length - 1 === this.currentMemoSelector ? nowMemolist.length - 1 : this.currentMemoSelector + 1;\n              }\n            } else if (_pressArrowDirection === 'ArrowUp') {\n              if (nowMemolist.length !== 0) {\n                this.currentMemoSelector = this.currentMemoSelector === 0 ? 0 : this.currentMemoSelector - 1;\n              }\n            }\n          } else {\n            //controll todo mode\n            if (_pressArrowDirection === 'ArrowDown') {\n              if (this.actionMode === 'writeMode' && this.props._contents.length !== 0) {\n                this.currentTodoSelector = 0;\n                this.actionMode = 'selectorMode';\n              } else if (this.actionMode === 'selectorMode') {\n                this.currentTodoSelector = this.currentTodoSelector === this.props._contents.length - 1 ? this.props._contents.length - 1 : this.currentTodoSelector + 1;\n              }\n            } else if (_pressArrowDirection === 'ArrowUp') {\n              if (this.actionMode === 'selectorMode') {\n                this.currentTodoSelector = this.currentTodoSelector === 0 ? 0 : this.currentTodoSelector - 1;\n              }\n            } else if (_pressArrowDirection === 'ArrowLeft') {\n              this.filterTodoCursorListCnt = this.filterTodoCursorListCnt == 0 ? 0 : this.filterTodoCursorListCnt - 1;\n              console.log(\"filter enter Arrow left\");\n            } else if (_pressArrowDirection === 'ArrowRight') {\n              console.log(\"filter enter Arrow Right\");\n              this.filterTodoCursorListCnt = this.filterTodoCursorListCnt == 2 ? 2 : this.filterTodoCursorListCnt + 1;\n            }\n          }\n\n          this.forceUpdate();\n        } // 위치변경 로직\n\n\n        if (e.shiftKey && 37 <= e.keyCode && e.keyCode <= 40 && this.actionMode === 'selectorMode') {\n          var _pressArrowDirection = e.key;\n\n          if (this.actionMode === 'selectorMode' && this.writeContentMode === 'memoList') {\n            let memolength = this.props._contents[this.currentTodoSelector].memolist.length;\n\n            if (_pressArrowDirection === 'ArrowDown' && this.currentMemoSelector != memolength - 1) {\n              this.swapMemoContents('down');\n            } else if (_pressArrowDirection === 'ArrowUp' && this.currentMemoSelector != 0) {\n              this.swapMemoContents('up');\n            }\n          } else {\n            if (_pressArrowDirection === 'ArrowDown' && this.currentTodoSelector != this.props._contents.length - 1) {\n              this.swapTodoContents('down');\n            } else if (_pressArrowDirection === 'ArrowUp' && this.currentTodoSelector != 0) {\n              this.swapTodoContents('up');\n            }\n          } // change todoList mode\n          // todoList mode를 바꾼다. Not will Do and Will Do\n\n\n          if (_pressArrowDirection === 'ArrowLeft') {\n            let tempIdx = this.filterTodoCursorListCnt - 1 <= 0 ? 0 : this.filterTodoCursorListCnt - 1;\n            this.filterTodoCursorList[tempIdx + 1][this.currentTodoSelector].todoState = \"NotWillDo\";\n            this.filterTodoCursorList[tempIdx].push(this.filterTodoCursorList[tempIdx + 1][this.currentTodoSelector]);\n\n            for (var i = this.currentTodoSelector; i < this.filterTodoCursorList[tempIdx + 1].length - 1; i++) {\n              this.filterTodoCursorList[tempIdx + 1][i] = this.filterTodoCursorList[tempIdx + 1][i + 1];\n            }\n\n            this.filterTodoCursorList[tempIdx + 1] = this.filterTodoCursorList[tempIdx + 1].slice(0, this.filterTodoCursorList[tempIdx].length - 2);\n            console.log(this.filterTodoCursorListCnt);\n          } else if (_pressArrowDirection === 'ArrowRight') {\n            let tempIdx = this.filterTodoCursorListCnt + 1 >= 2 ? 2 : this.filterTodoCursorListCnt + 1;\n            this.filterTodoCursorList[tempIdx - 1][this.currentTodoSelector].todoState = \"willDo\";\n            this.filterTodoCursorList[tempIdx].push(this.filterTodoCursorList[tempIdx - 1][this.currentTodoSelector]);\n          }\n\n          console.log(this.filterTodoCursorList[0]);\n          console.log(this.filterTodoCursorList[1]);\n          console.log(this.filterTodoCursorList[2]);\n          this.forceUpdate();\n        } // 메모의 상태를 변경하기 위해서 사용\n\n\n        if (this.actionMode === 'selectorMode' && e.key === '/') {\n          if (this.writeContentMode === 'todoList') {\n            this.writeContentMode = 'memoList';\n            this.currentMemoSelector = 0;\n          } else {\n            this.writeContentMode = 'todoList';\n            this.currentMemoSelector = -1;\n          }\n\n          e.target.value = \"\";\n          this.forceUpdate();\n        }\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"FilterTodo\",\n      children: /*#__PURE__*/_jsxDEV(RenderTodoMemoDiveFilter, {\n        _mode: this.actionMode,\n        _currentTodoSelector: this.currentTodoSelector,\n        _currentMemoSelector: this.currentMemoSelector,\n        _filterTodoCursorListCnt: this.filterTodoCursorListCnt,\n        _filterTodoCursorList: this.filterTodoCursorList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default RenderTodoList;","map":{"version":3,"sources":["/Users/jonggeun/Desktop/anfree/anfreeFront/anfree/src/TodoList/ControllerFilterTodoList.js"],"names":["render","React","Component","memo","RenderTodoMemoDiveFilter","RenderTodoList","constructor","props","actionMode","currentTodoSelector","currentMemoSelector","readyList","_contents","willNotDoList","willDoList","filterTodoCursorList","filterTodoCursorListCnt","state","pressArrowDirection","swapTodoContents","UpDown","upDownInt","updateContentsList","Array","from","temp","updateContentsTodoList","swapMemoContents","memoIdx","todoIdx","memolist","componentDidMount","window","addEventListener","e","_stage","keyCode","_pressArrowDirection","key","writeContentMode","nowMemolist","length","console","log","forceUpdate","shiftKey","memolength","tempIdx","todoState","push","i","slice","target","value"],"mappings":"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","sourcesContent":["import { render } from \"@testing-library/react\";\nimport React, {Component, memo} from \"react\";\nimport RenderTodoMemoDiveFilter from \"./RenderTodoMemoDiveFilter\";\n\n// mode, contents\nclass RenderTodoList extends Component{\n    constructor(props){\n        super(props);\n        //actionMode : writeMode, selectorMode,\n        this.actionMode = 'selectorMode';\n        this.currentTodoSelector = 0;\n        this.currentMemoSelector = -1;\n\n        this.readyList = this.props._contents;\n        this.willNotDoList = [];\n        this.willDoList =[];\n\n        // filterTodo cursor\n        this.filterTodoCursorList =[this.willNotDoList,this.readyList,this.willDoList];   \n        this.filterTodoCursorListCnt =1;     \n        this.state={\n            pressArrowDirection : ''\n        }\n    }\n    //다시\n    swapTodoContents(UpDown){\n        var upDownInt = (UpDown === 'up')? -1 :1;\n        var updateContentsList = Array.from(this.props._contents);\n        var temp = updateContentsList[this.currentTodoSelector];\n        updateContentsList[this.currentTodoSelector] = updateContentsList[this.currentTodoSelector+upDownInt];\n        updateContentsList[this.currentTodoSelector+upDownInt] = temp;\n        this.props.updateContentsTodoList(updateContentsList);\n    }\n    //다시\n    swapMemoContents(UpDown){\n        let memoIdx = this.currentMemoSelector;\n        let todoIdx = this.currentTodoSelector;\n        var upDownInt = (UpDown === 'up')? -1 :1;\n        var updateContentsList = Array.from(this.props._contents);\n        var temp = updateContentsList[todoIdx].memolist[memoIdx];\n        updateContentsList[todoIdx].memolist[memoIdx] = updateContentsList[todoIdx].memolist[memoIdx + upDownInt];\n        updateContentsList[todoIdx].memolist[memoIdx+upDownInt] = temp;\n        this.props.updateContentsTodoList(updateContentsList);\n    }\n\n    componentDidMount() {\n        window.addEventListener('keydown',(e)=>{\n            if(this.props._stage === 'FilterTodo'){\n\n                // +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n                // filterTodo 상태에서 이동제어\n                // 이동에 관한 것\n                // +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n                if(37<=e.keyCode && e.keyCode<=40){\n                    var _pressArrowDirection = e.key;\n                    if(this.actionMode==='selectorMode' && this.writeContentMode==='memoList'){\n                        //controll memo mode\n                        let nowMemolist = this.props._contents[this.currentTodoSelector].memolist;\n                        if(_pressArrowDirection === 'ArrowDown'){\n                            \n                            if(nowMemolist.length !== 0){\n                                this.currentMemoSelector = (nowMemolist.length-1 === this.currentMemoSelector) ? nowMemolist.length-1: this.currentMemoSelector+1;    \n                            }\n                        }else if(_pressArrowDirection === 'ArrowUp'){\n                            if(nowMemolist.length!==0){\n                                this.currentMemoSelector = (this.currentMemoSelector === 0)? 0 : this.currentMemoSelector-1;\n                            }\n                        }\n                    }else{\n                        //controll todo mode\n                        if(_pressArrowDirection === 'ArrowDown'){\n                            if(this.actionMode==='writeMode' && this.props._contents.length!==0){\n                                this.currentTodoSelector = 0;\n                                this.actionMode = 'selectorMode'\n                            }else if(this.actionMode === 'selectorMode'){\n                                this.currentTodoSelector = (this.currentTodoSelector === this.props._contents.length-1)? this.props._contents.length-1 : this.currentTodoSelector+1;                        \n                            }\n                        }else if(_pressArrowDirection === 'ArrowUp'){\n                            if(this.actionMode === 'selectorMode'){\n                                this.currentTodoSelector = (this.currentTodoSelector === 0)? 0 : this.currentTodoSelector-1;\n                            }\n                        }else if(_pressArrowDirection === 'ArrowLeft'){\n                            this.filterTodoCursorListCnt = (this.filterTodoCursorListCnt == 0) ? 0 : this.filterTodoCursorListCnt-1;\n                            console.log(\"filter enter Arrow left\")\n                        }else if(_pressArrowDirection === 'ArrowRight'){\n                            console.log(\"filter enter Arrow Right\")\n                            this.filterTodoCursorListCnt = (this.filterTodoCursorListCnt == 2) ? 2 : this.filterTodoCursorListCnt+1;\n                        }\n                    }\n                    this.forceUpdate();\n                }\n\n\n                // 위치변경 로직\n                if(e.shiftKey && 37<=e.keyCode && e.keyCode<=40 && this.actionMode === 'selectorMode'){\n                    var _pressArrowDirection = e.key;\n    \n                    if(this.actionMode==='selectorMode' && this.writeContentMode==='memoList'){\n                        let memolength = this.props._contents[this.currentTodoSelector].memolist.length;\n                        if(_pressArrowDirection === 'ArrowDown' && this.currentMemoSelector!=memolength-1){\n                            this.swapMemoContents('down');\n                        }else if(_pressArrowDirection==='ArrowUp' && this.currentMemoSelector !=0){\n                            this.swapMemoContents('up');\n                        }\n                    }else{\n                        if(_pressArrowDirection === 'ArrowDown' && this.currentTodoSelector!=this.props._contents.length-1){\n                            this.swapTodoContents('down');\n                        }else if(_pressArrowDirection==='ArrowUp' && this.currentTodoSelector !=0){\n                            this.swapTodoContents('up');\n                        }\n                    }\n                    // change todoList mode\n                    // todoList mode를 바꾼다. Not will Do and Will Do\n                    if(_pressArrowDirection === 'ArrowLeft'){\n                        let tempIdx = (this.filterTodoCursorListCnt-1 <=0)? 0 : this.filterTodoCursorListCnt-1;\n                        this.filterTodoCursorList[tempIdx+1][this.currentTodoSelector].todoState = \"NotWillDo\";\n                        this.filterTodoCursorList[tempIdx].push(this.filterTodoCursorList[tempIdx+1][this.currentTodoSelector]);\n                        for(var i=this.currentTodoSelector; i<this.filterTodoCursorList[tempIdx+1].length-1; i++){\n                            this.filterTodoCursorList[tempIdx+1][i] = this.filterTodoCursorList[tempIdx+1][i+1]; \n                        }\n                        this.filterTodoCursorList[tempIdx+1] = this.filterTodoCursorList[tempIdx+1].slice(0,this.filterTodoCursorList[tempIdx].length-2);\n                        console.log(this.filterTodoCursorListCnt);\n                    }else if(_pressArrowDirection === 'ArrowRight'){\n                        let tempIdx = (this.filterTodoCursorListCnt+1 >=2)? 2 : this.filterTodoCursorListCnt+1;\n                        this.filterTodoCursorList[tempIdx-1][this.currentTodoSelector].todoState = \"willDo\";\n                        this.filterTodoCursorList[tempIdx].push(this.filterTodoCursorList[tempIdx-1][this.currentTodoSelector]);  \n                    }\n                    console.log(this.filterTodoCursorList[0]);\n                    console.log(this.filterTodoCursorList[1]);\n                    console.log(this.filterTodoCursorList[2]);\n                    this.forceUpdate();\n                }\n\n\n                // 메모의 상태를 변경하기 위해서 사용\n                if(this.actionMode === 'selectorMode' && e.key === '/'){\n                    if(this.writeContentMode === 'todoList') {\n                        this.writeContentMode = 'memoList';\n                        this.currentMemoSelector = 0;\n                    }\n                    else {\n                        this.writeContentMode = 'todoList';\n                        this.currentMemoSelector = -1;\n                    }\n                    e.target.value = \"\";\n                    this.forceUpdate();\n                }\n                \n            }\n            \n            \n        })\n    }\n\n\n\n    render(){\n        return(\n            <div className=\"FilterTodo\">\n            <RenderTodoMemoDiveFilter\n            _mode = {this.actionMode}\n            _currentTodoSelector = {this.currentTodoSelector}\n            _currentMemoSelector = {this.currentMemoSelector}\n            _filterTodoCursorListCnt = {this.filterTodoCursorListCnt}\n            _filterTodoCursorList = {this.filterTodoCursorList}\n            ></RenderTodoMemoDiveFilter>\n            </div>\n        )\n    }\n}\n\nexport default RenderTodoList;"]},"metadata":{},"sourceType":"module"}